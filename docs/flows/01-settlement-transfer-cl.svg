<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1609px" preserveAspectRatio="none" style="width:1590px;height:1609px;background:#FFFFFF;" version="1.1" viewBox="0 0 1590 1609" width="1590px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="686" x="450.5" y="29.9659">Settlement Transfer - Refer to Reference Architecture: [https://miro.com/app/board/o9J_lJyA1TA=/]</text><rect fill="#F9FFF9" height="1550.4367" style="stroke:#181818;stroke-width:0.5;" width="777" x="329" y="46.0679"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101" x="665.5" y="59.9649">Settlements BC</text><rect fill="#FFFFF9" height="1550.4367" style="stroke:#181818;stroke-width:0.5;" width="405" x="1116.5" y="46.0679"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="171" x="1232" y="59.9649">Accounts and Balances BC</text><rect fill="none" height="207.9421" style="stroke:#000000;stroke-width:1.5;" width="689" x="27" y="316.0779"/><rect fill="none" height="549.1203" style="stroke:#000000;stroke-width:1.5;" width="947.5" x="580" y="538.0201"/><rect fill="none" height="410.2963" style="stroke:#000000;stroke-width:1.5;" width="1500.5" x="27" y="1101.1404"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="94" x2="94" y1="132.8419" y2="1528.4367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="367" x2="367" y1="132.8419" y2="1528.4367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="466" x2="466" y1="132.8419" y2="1528.4367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="555" x2="555" y1="132.8419" y2="1528.4367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="648" x2="648" y1="132.8419" y2="1528.4367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1025" x2="1025" y1="132.8419" y2="1528.4367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1144.5" x2="1144.5" y1="132.8419" y2="1528.4367"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1471.5" x2="1471.5" y1="132.8419" y2="1528.4367"/><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="37" y="98.7739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="44" y="120.7399">Central-Ledger</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="37" y="1527.4367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="44" y="1549.4026">Central-Ledger</text><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="333" y="98.7739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="340" y="120.7399">Rest API</text><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="333" y="1527.4367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="340" y="1549.4026">Rest API</text><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="412" y="98.7739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="419" y="120.7399">Event Listener</text><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="412" y="1527.4367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="419" y="1549.4026">Event Listener</text><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49" x="531" y="98.7739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="538" y="120.7399">gRPC</text><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49" x="531" y="1527.4367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="538" y="1549.4026">gRPC</text><rect fill="#EDC54D" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="590" y="79.706"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="597" y="101.672">Settlements BC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="615" y="120.7399">App Logic</text><rect fill="#EDC54D" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="590" y="1527.4367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="597" y="1549.4026">Settlements BC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="615" y="1568.4705">App Logic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="948" y="128.7399">Settlements-Database</text><path d="M1007,77.7739 C1007,67.7739 1025,67.7739 1025,67.7739 C1025,67.7739 1043,67.7739 1043,77.7739 L1043,103.7739 C1043,113.7739 1025,113.7739 1025,113.7739 C1025,113.7739 1007,113.7739 1007,103.7739 L1007,77.7739 " fill="#DAE8FC" style="stroke:#181818;stroke-width:1.5;"/><path d="M1007,77.7739 C1007,87.7739 1025,87.7739 1025,87.7739 C1025,87.7739 1043,87.7739 1043,77.7739 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="948" y="1542.4026">Settlements-Database</text><path d="M1007,1556.5046 C1007,1546.5046 1025,1546.5046 1025,1546.5046 C1025,1546.5046 1043,1546.5046 1043,1556.5046 L1043,1582.5046 C1043,1592.5046 1025,1592.5046 1025,1592.5046 C1025,1592.5046 1007,1592.5046 1007,1582.5046 L1007,1556.5046 " fill="#DAE8FC" style="stroke:#181818;stroke-width:1.5;"/><path d="M1007,1556.5046 C1007,1566.5046 1025,1566.5046 1025,1566.5046 C1025,1566.5046 1043,1566.5046 1043,1556.5046 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49" x="1120.5" y="98.7739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1127.5" y="120.7399">gRPC</text><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49" x="1120.5" y="1527.4367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1127.5" y="1549.4026">gRPC</text><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="1426.5" y="98.7739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1433.5" y="120.7399">TigerBeetle</text><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="91" x="1426.5" y="1527.4367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="1433.5" y="1549.4026">TigerBeetle</text><path d="M5,147.8419 L5,210.8419 L184,210.8419 L184,157.8419 L174,147.8419 L5,147.8419 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M174,147.8419 L174,157.8419 L184,157.8419 L174,147.8419 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="92" x="11" y="166.7389">TransferCommit</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="11" y="184.4449">Liquidity account balances</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="11" y="202.1509">are kept in Central-Ledger.</text><path d="M1065,220.9599 L1065,265.9599 L1225,265.9599 L1225,230.9599 L1215,220.9599 L1065,220.9599 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1215,220.9599 L1215,230.9599 L1225,230.9599 L1215,220.9599 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="1071" y="239.8569">Exposed interface for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1071" y="257.5629">Accounts and Balances.</text><path d="M1361,276.3719 L1361,303.3719 L1583,303.3719 L1583,286.3719 L1573,276.3719 L1361,276.3719 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1573,276.3719 L1573,286.3719 L1583,286.3719 L1573,276.3719 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="1367" y="295.2689">TigerBeetle may be turned off/on.</text><path d="M27,316.0779 L374,316.0779 L374,325.784 L364,335.784 L27,335.784 L27,316.0779 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="207.9421" style="stroke:#000000;stroke-width:1.5;" width="689" x="27" y="316.0779"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="302" x="42" y="330.975">1. Create Settlement Transfer - Central Ledger</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="94.5" x2="136.5" y1="359.49" y2="359.49"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="136.5" x2="136.5" y1="359.49" y2="372.49"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="95.5" x2="136.5" y1="372.49" y2="372.49"/><polygon fill="#181818" points="104.5,355.49,94.5,359.49,104.5,363.49,100.5,359.49" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="105.5,368.49,95.5,372.49,105.5,376.49,101.5,372.49" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="101.5" y="353.681">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="112.5" y="353.681">Transfer fulfil occurred</text><line style="stroke:#181818;stroke-width:1.0;" x1="94.5" x2="136.5" y1="404.196" y2="404.196"/><line style="stroke:#181818;stroke-width:1.0;" x1="136.5" x2="136.5" y1="404.196" y2="417.196"/><line style="stroke:#181818;stroke-width:1.0;" x1="95.5" x2="136.5" y1="417.196" y2="417.196"/><polygon fill="#181818" points="104.5,400.196,94.5,404.196,104.5,408.196,100.5,404.196" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="105.5,413.196,95.5,417.196,105.5,421.196,101.5,417.196" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="101.5" y="398.387">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="112.5" y="398.387">Obtain settlement model</text><polygon fill="#181818" points="454.5,480.314,464.5,484.314,454.5,488.314,458.5,484.314" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="94.5" x2="460.5" y1="484.314" y2="484.314"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="101.5" y="460.799">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="112.5" y="443.093"> </text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="75" x="112.5" y="460.799">publishEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="187.5" y="460.799"> </text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="299" x="112.5" y="478.505">(settlement transfer data payload and queue)</text><polygon fill="#181818" points="636,512.0201,646,516.0201,636,520.0201,640,516.0201" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="466.5" x2="642" y1="516.0201" y2="516.0201"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="473.5" y="510.2111">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="484.5" y="510.2111">Invoke the App layer</text><path d="M580,538.0201 L786,538.0201 L786,547.7261 L776,557.7261 L580,557.7261 L580,538.0201 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="549.1203" style="stroke:#000000;stroke-width:1.5;" width="947.5" x="580" y="538.0201"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="161" x="595" y="552.9171">2. Settlement - App Logic</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="648" x2="690" y1="581.4321" y2="581.4321"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="690" x2="690" y1="581.4321" y2="594.4321"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="649" x2="690" y1="594.4321" y2="594.4321"/><polygon fill="#181818" points="658,577.4321,648,581.4321,658,585.4321,654,581.4321" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="659,590.4321,649,594.4321,659,598.4321,655,594.4321" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="655" y="575.6231">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="666" y="575.6231">Settlement Transfer event triggered</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="648" x2="690" y1="626.1381" y2="626.1381"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="690" x2="690" y1="626.1381" y2="639.1381"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="649" x2="690" y1="639.1381" y2="639.1381"/><polygon fill="#181818" points="659,635.1381,649,639.1381,659,643.1381,655,639.1381" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="655" y="620.3291">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="666" y="620.3291">Validate</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="218" x="717" y="620.3291">settlement transfer data payload</text><polygon fill="#181818" points="659,684.5501,649,688.5501,659,692.5501,655,688.5501" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1013,684.5501,1023,688.5501,1013,692.5501,1017,688.5501" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="653" x2="1019" y1="688.5501" y2="688.5501"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="665" y="673.8881">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="676" y="665.0351">Fetch and cache settlement configuration</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="211" x="676" y="682.7411">TODO - This needs to be updated</text><polygon fill="#181818" points="659,751.6682,649,755.6682,659,759.6682,655,755.6682" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1013,751.6682,1023,755.6682,1013,759.6682,1017,755.6682" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="653" x2="1019" y1="755.6682" y2="755.6682"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="665" y="732.1532">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285" x="676" y="714.4472">Obtain current open settlement batch based on</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="218" x="676" y="732.1532">settlement transfer data payload</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="342" x="676" y="749.8592">New OPEN Batch will be created if no OPEN batch is available</text><polygon fill="#181818" points="659,801.0802,649,805.0802,659,809.0802,655,805.0802" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1133,801.0802,1143,805.0802,1133,809.0802,1137,805.0802" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="653" x2="1139" y1="805.0802" y2="805.0802"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="665" y="790.4182">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="676" y="781.5652">Obtain Debit/Credit</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="139" x="796" y="781.5652">Settlement Accounts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="938" y="781.5652">based on participant account info</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="446" x="676" y="799.2712">(The settlement accounts are derived and linked from the participant accounts)</text><polygon fill="#181818" points="1156,850.4923,1146,854.4923,1156,858.4923,1152,854.4923" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1460,850.4923,1470,854.4923,1460,858.4923,1464,854.4923" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1150" x2="1466" y1="854.4923" y2="854.4923"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1162" y="839.8303">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="1173" y="830.9772">Create account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="1173" y="848.6833">if 'not exists'</text><polygon fill="#181818" points="659,882.1983,649,886.1983,659,890.1983,655,886.1983" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="653" x2="1144" y1="886.1983" y2="886.1983"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="665" y="880.3893">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="676" y="880.3893">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="55" x="720" y="880.3893">Account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="778" y="880.3893">creation info</text><polygon fill="#181818" points="1133,913.9043,1143,917.9043,1133,921.9043,1137,917.9043" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="648" x2="1139" y1="917.9043" y2="917.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="655" y="912.0953">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="666" y="912.0953">Create Settlement Transfer</text><polygon fill="#181818" points="1156,945.6103,1146,949.6103,1156,953.6103,1152,949.6103" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1460,945.6103,1470,949.6103,1460,953.6103,1464,949.6103" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1150" x2="1466" y1="949.6103" y2="949.6103"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1162" y="943.8013">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="1173" y="943.8013">Debit Payer, Credit Payee</text><polygon fill="#181818" points="659,977.3163,649,981.3163,659,985.3163,655,981.3163" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="653" x2="1144" y1="981.3163" y2="981.3163"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="665" y="975.5073">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="683" y="975.5073">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="56" x="727" y="975.5073">Transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="786" y="975.5073">creation info</text><line style="stroke:#181818;stroke-width:1.0;" x1="648" x2="690" y1="1066.1404" y2="1066.1404"/><line style="stroke:#181818;stroke-width:1.0;" x1="690" x2="690" y1="1066.1404" y2="1079.1404"/><line style="stroke:#181818;stroke-width:1.0;" x1="649" x2="690" y1="1079.1404" y2="1079.1404"/><polygon fill="#181818" points="658,1062.1404,648,1066.1404,658,1070.1404,654,1066.1404" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="659,1075.1404,649,1079.1404,659,1083.1404,655,1079.1404" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="655" y="1033.7724">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="673" y="1007.2133">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="116" x="717" y="1007.2133">Transfer/Account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="836" y="1007.2133">info based on:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="673" y="1024.9194">-&gt; REST - Account balance info</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="673" y="1042.6254">-&gt; gRPC - Account balance info</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="673" y="1060.3314">-&gt; Event - Publish Event</text><path d="M27,1101.1404 L283,1101.1404 L283,1110.8464 L273,1120.8464 L27,1120.8464 L27,1101.1404 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="410.2963" style="stroke:#000000;stroke-width:1.5;" width="1500.5" x="27" y="1101.1404"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="211" x="42" y="1116.0374">3. Settlement - Retrieve Batches</text><polygon fill="#181818" points="355.5,1264.4945,365.5,1268.4945,355.5,1272.4945,359.5,1268.4945" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="94.5" x2="361.5" y1="1268.4945" y2="1268.4945"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="101.5" y="1200.7145">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="112.5" y="1138.7434">At time of fulfil:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="145" x="112.5" y="1156.4494">retrieveSettlementBatches</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="257.5" y="1156.4494"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="112.5" y="1174.1555">INPUT:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="112.5" y="1191.8615">-&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="69" x="126.5" y="1191.8615">From Date</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="198.5" y="1191.8615">- From</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="112.5" y="1209.5675">-&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51" x="126.5" y="1209.5675">To Date</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="180.5" y="1209.5675">- To</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="112.5" y="1227.2735">-&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118" x="126.5" y="1227.2735">Settlement Model</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="247.5" y="1227.2735">- Model</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="295.5" y="1227.2735">(optional)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="112.5" y="1244.9795">OUTPUT:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="112.5" y="1262.6855">-&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="131" x="126.5" y="1262.6855">Settlement Batches</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="260.5" y="1262.6855">- Batches</text><polygon fill="#181818" points="636,1296.2006,646,1300.2006,636,1304.2006,640,1300.2006" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="367.5" x2="642" y1="1300.2006" y2="1300.2006"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="374.5" y="1294.3916">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="385.5" y="1294.3916">Request settlement batches</text><polygon fill="#181818" points="1133,1327.9066,1143,1331.9066,1133,1335.9066,1137,1331.9066" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="648" x2="1139" y1="1331.9066" y2="1331.9066"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="655" y="1326.0976">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="666" y="1326.0976">Retrieve settlement batch accounts</text><polygon fill="#181818" points="1156,1359.6126,1146,1363.6126,1156,1367.6126,1152,1363.6126" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1460,1359.6126,1470,1363.6126,1460,1367.6126,1464,1363.6126" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1150" x2="1466" y1="1363.6126" y2="1363.6126"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1162" y="1357.8036">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="1173" y="1357.8036">Retrieve settlement batch accounts and balances</text><polygon fill="#181818" points="659,1391.3186,649,1395.3186,659,1399.3186,655,1395.3186" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="653" x2="1144" y1="1395.3186" y2="1395.3186"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="665" y="1389.5096">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="676" y="1389.5096">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="55" x="720" y="1389.5096">Account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="778" y="1389.5096">creation info</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="648" x2="690" y1="1427.0246" y2="1427.0246"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="690" x2="690" y1="1427.0246" y2="1440.0246"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="649" x2="690" y1="1440.0246" y2="1440.0246"/><polygon fill="#181818" points="659,1436.0246,649,1440.0246,659,1444.0246,655,1440.0246" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="655" y="1421.2156">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="666" y="1421.2156">Prepare data for batch response</text><polygon fill="#181818" points="378.5,1467.7306,368.5,1471.7306,378.5,1475.7306,374.5,1471.7306" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="372.5" x2="647" y1="1471.7306" y2="1471.7306"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="384.5" y="1465.9216">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="395.5" y="1465.9216">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="53" x="439.5" y="1465.9216">Batches</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="495.5" y="1465.9216">info</text><polygon fill="#181818" points="105.5,1499.4367,95.5,1503.4367,105.5,1507.4367,101.5,1503.4367" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="99.5" x2="366.5" y1="1503.4367" y2="1503.4367"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="111.5" y="1497.6277">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="122.5" y="1497.6277">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="53" x="166.5" y="1497.6277">Batches</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="222.5" y="1497.6277">info</text><!--SRC=[hLRRRjiu47sklsBGF3GLrX6wRO56w1PmV05IP6F3LVlIB09A6jb4P5AbA3V- -nrIrCrMsYomVh4qrCoSEJmpfEOwG_Y2clvsA3I4YeaYHGLZMAFvrx9wG14ZJ5IyvHfZNIeCuFjMwxm8V7_7bRo8vSvdUUv7agd4bvUVxxFFXycRSFAN_yzeb3EbUSnpHZbUJYcJOjdu1fCDgfV02i17VHzd8o4rWjnJNcS0-lb-ZMegTpkkVT-QR_YFaYTS7u35iImfSCGoHZ0BkymKmWFc6hY0ViAB4Oe4JAhHA9AFdV8Bk9h2sU9oiLXSZbxqCA-nq31PNLkqHHJVAsCucxsVVvYzE_fslZTKtl12et3r6G-qvc6NpNerRJxSg3n-uhi-rZinoNEuaHiUDywq1_UPiS3PV3Pz_susUf4mpI9MOCzzF7FMnZE9AEba_c4njGGHDHK_auhU0XXPhnp75LCBovIXUxWQ5XsNS_9jo6bBhX09L-kYZJ6onfvdguycihMRt_mnbmKcjDyQLSf8hgbKpUfW4HTskL73G8OEa2PK1p7is04Y16e8GQbbclfI74LjkDmeMURmvWAc2fb-gksSLg7IweYLMefo5s5LIjKMy74y_bG_1wrtMcOfpq36SQaK9dsFZiCoqepQecW1x6I2MVTx-hpLR01tmlVpCifuiRNgzdqoUTvv9uIkKHYvqHuVCiaII_UF4ajyxNasVXlLfMW56y2rsCi7edDBiuQKdR43rKq4rkJzUT5bRGoD_8zvwWUsTFLCmI3x5Iwj-8QeT_pr8uq7G7zZ6K_CXdhUx-ZeS320ZXemW0NgU6jfYrbCF7H2nbAaV5CgfhaKXlvmELiI2-6M5o0GayACQv9ZcHiypydcb63rGXbaZZrPHCo0CLE2n2tibl- -HAELM_m9ozNybbhDHFZ9iym0YwtogKTJwetgWoe55S3sZ6Sioj3DzsFOdphJf04-muWE16eeEWY8_ywcrWtlUIt-xk2f3mqkKcaGduTzibapCEWWIL3nFLPgphXueCTKoPqLwa3GuhMheKLiQJ-PRK4z2seqTuAeUKLpW_gGpe_YrL6O0VcjqKmVAjvLJ0LRcaaZjhWX5NUu37unZavgE2qXgBO0LgPL_m2t4-OD_mFqEk4pi7yyRUMJC7vBXOdI2C3CCN9Vpx-4PdZqhmrE2RHkZgzVhLVd-nXMrK2ithjZwktHc2A0YjDmgRg1BYZ3KzrLPcyM0KoemVYE3gFKpVN0o5IvK6ry5zDEvElRrTSmi20zRs4KIgSy4WrZC6zk8PIjEPJEs07yjpaCxAfzeWlOkSpDdh2CX7qdbb_3JfgEeuDYNUjIwnsqLGrgW8u7MZgUEXtNOU5M-gbuFHbPTIC-Gy7FYcCxlt-__BzxSY3CIc5knu-PhtIRSQ28oboA0eS9waYeWT5kJ2zxlIVDnU0fXuvUhSx_1G00]--></g></svg>