<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1714px" preserveAspectRatio="none" style="width:1666px;height:1714px;background:#FFFFFF;" version="1.1" viewBox="0 0 1666 1714" width="1666px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="810" x="426.5" y="29.9659">Settlement Transfer in Central-Ledger - Refer to Reference Architecture: [https://miro.com/app/board/o9J_lJyA1TA=/]</text><rect fill="#F9FFF9" height="1655.2607" style="stroke:#181818;stroke-width:0.5;" width="850.5" x="329" y="46.0679"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="101" x="702.25" y="59.9649">Settlements BC</text><rect fill="#FFFFF9" height="1655.2607" style="stroke:#181818;stroke-width:0.5;" width="413.5" x="1181.5" y="46.0679"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="171" x="1301.25" y="59.9649">Accounts and Balances BC</text><rect fill="none" height="261.0602" style="stroke:#000000;stroke-width:1.5;" width="760.5" x="27" y="389.196"/><rect fill="none" height="527.7083" style="stroke:#000000;stroke-width:1.5;" width="1199" x="402" y="664.2562"/><rect fill="none" height="410.2963" style="stroke:#000000;stroke-width:1.5;" width="1574" x="27" y="1205.9645"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="94" x2="94" y1="132.8419" y2="1633.2607"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="367" x2="367" y1="132.8419" y2="1633.2607"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="466" x2="466" y1="132.8419" y2="1633.2607"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="719.5" x2="719.5" y1="132.8419" y2="1633.2607"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1098.5" x2="1098.5" y1="132.8419" y2="1633.2607"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1220.5" x2="1220.5" y1="132.8419" y2="1633.2607"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1548" x2="1548" y1="132.8419" y2="1633.2607"/><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="37" y="98.7739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="44" y="120.7399">Central-Ledger</text><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="37" y="1632.2607"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="44" y="1654.2267">Central-Ledger</text><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="333" y="98.7739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="340" y="120.7399">Rest API</text><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="69" x="333" y="1632.2607"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="340" y="1654.2267">Rest API</text><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="412" y="98.7739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="419" y="120.7399">Event Handler</text><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="412" y="1632.2607"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="419" y="1654.2267">Event Handler</text><rect fill="#EDC54D" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="661.5" y="79.706"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="668.5" y="101.672">Settlements BC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="686.5" y="120.7399">App Logic</text><rect fill="#EDC54D" height="52.1358" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="661.5" y="1632.2607"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="668.5" y="1654.2267">Settlements BC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="686.5" y="1673.2946">App Logic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="1021.5" y="128.7399">Settlements-Database</text><path d="M1080.5,77.7739 C1080.5,67.7739 1098.5,67.7739 1098.5,67.7739 C1098.5,67.7739 1116.5,67.7739 1116.5,77.7739 L1116.5,103.7739 C1116.5,113.7739 1098.5,113.7739 1098.5,113.7739 C1098.5,113.7739 1080.5,113.7739 1080.5,103.7739 L1080.5,77.7739 " fill="#DAE8FC" style="stroke:#181818;stroke-width:1.5;"/><path d="M1080.5,77.7739 C1080.5,87.7739 1098.5,87.7739 1098.5,87.7739 C1098.5,87.7739 1116.5,87.7739 1116.5,77.7739 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="1021.5" y="1647.2267">Settlements-Database</text><path d="M1080.5,1661.3286 C1080.5,1651.3286 1098.5,1651.3286 1098.5,1651.3286 C1098.5,1651.3286 1116.5,1651.3286 1116.5,1661.3286 L1116.5,1687.3286 C1116.5,1697.3286 1098.5,1697.3286 1098.5,1697.3286 C1098.5,1697.3286 1080.5,1697.3286 1080.5,1687.3286 L1080.5,1661.3286 " fill="#DAE8FC" style="stroke:#181818;stroke-width:1.5;"/><path d="M1080.5,1661.3286 C1080.5,1671.3286 1098.5,1671.3286 1098.5,1671.3286 C1098.5,1671.3286 1116.5,1671.3286 1116.5,1661.3286 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="1185.5" y="98.7739"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="1192.5" y="120.7399">A&amp;B SVC</text><rect fill="#D5E8D4" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="1185.5" y="1632.2607"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="1192.5" y="1654.2267">A&amp;B SVC</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="1505" y="128.7399">A&amp;B-Ledger</text><path d="M1530,77.7739 C1530,67.7739 1548,67.7739 1548,67.7739 C1548,67.7739 1566,67.7739 1566,77.7739 L1566,103.7739 C1566,113.7739 1548,113.7739 1548,113.7739 C1548,113.7739 1530,113.7739 1530,103.7739 L1530,77.7739 " fill="#DAE8FC" style="stroke:#181818;stroke-width:1.5;"/><path d="M1530,77.7739 C1530,87.7739 1548,87.7739 1548,87.7739 C1548,87.7739 1566,87.7739 1566,77.7739 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="1505" y="1647.2267">A&amp;B-Ledger</text><path d="M1530,1661.3286 C1530,1651.3286 1548,1651.3286 1548,1651.3286 C1548,1651.3286 1566,1651.3286 1566,1661.3286 L1566,1687.3286 C1566,1697.3286 1548,1697.3286 1548,1697.3286 C1548,1697.3286 1530,1697.3286 1530,1687.3286 L1530,1661.3286 " fill="#DAE8FC" style="stroke:#181818;stroke-width:1.5;"/><path d="M1530,1661.3286 C1530,1671.3286 1548,1671.3286 1548,1671.3286 C1548,1671.3286 1566,1671.3286 1566,1661.3286 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><path d="M5,147.8419 L5,210.8419 L184,210.8419 L184,157.8419 L174,147.8419 L5,147.8419 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M174,147.8419 L174,157.8419 L184,157.8419 L174,147.8419 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="92" x="11" y="166.7389">TransferCommit</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="11" y="184.4449">Liquidity account balances</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="11" y="202.1509">are kept in Central-Ledger.</text><path d="M327,220.9599 L327,283.9599 L605,283.9599 L605,230.9599 L595,220.9599 L327,220.9599 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M595,220.9599 L595,230.9599 L605,230.9599 L595,220.9599 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="333" y="239.8569">Kafka Topics</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="333" y="257.5629">- Topic for creating Settlement Transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="257" x="333" y="275.2689">- Topic for Settlement Transfer create result</text><path d="M1130,294.0779 L1130,339.0779 L1312,339.0779 L1312,304.0779 L1302,294.0779 L1130,294.0779 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1302,294.0779 L1302,304.0779 L1312,304.0779 L1302,294.0779 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="1136" y="312.975">Exposed gRPC interface for</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="1136" y="330.681">Accounts &amp; Balances.</text><path d="M1437,349.49 L1437,376.49 L1659,376.49 L1659,359.49 L1649,349.49 L1437,349.49 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1649,349.49 L1649,359.49 L1659,359.49 L1649,349.49 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="1443" y="368.387">TigerBeetle may be turned off/on.</text><path d="M27,389.196 L374,389.196 L374,398.902 L364,408.902 L27,408.902 L27,389.196 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="261.0602" style="stroke:#000000;stroke-width:1.5;" width="760.5" x="27" y="389.196"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="302" x="42" y="404.093">1. Create Settlement Transfer - Central Ledger</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="94.5" x2="136.5" y1="432.608" y2="432.608"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="136.5" x2="136.5" y1="432.608" y2="445.608"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="95.5" x2="136.5" y1="445.608" y2="445.608"/><polygon fill="#181818" points="104.5,428.608,94.5,432.608,104.5,436.608,100.5,432.608" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="105.5,441.608,95.5,445.608,105.5,449.608,101.5,445.608" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="101.5" y="426.799">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="112.5" y="426.799">Transfer fulfil occurred</text><line style="stroke:#181818;stroke-width:1.0;" x1="94.5" x2="136.5" y1="512.7261" y2="512.7261"/><line style="stroke:#181818;stroke-width:1.0;" x1="136.5" x2="136.5" y1="512.7261" y2="525.7261"/><line style="stroke:#181818;stroke-width:1.0;" x1="95.5" x2="136.5" y1="525.7261" y2="525.7261"/><polygon fill="#181818" points="104.5,508.7261,94.5,512.7261,104.5,516.7261,100.5,512.7261" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="105.5,521.7261,95.5,525.7261,105.5,529.7261,101.5,525.7261" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="101.5" y="489.2111">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="112.5" y="471.505">Obtain settlement model.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="112.5" y="489.2111">Settlement model determined</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="112.5" y="506.9171">based on fulfilled transfer</text><polygon fill="#181818" points="454.5,588.8441,464.5,592.8441,454.5,596.8441,458.5,592.8441" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="94.5" x2="460.5" y1="592.8441" y2="592.8441"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="101.5" y="569.3291">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="112.5" y="551.6231"> </text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="75" x="112.5" y="569.3291">publishEvent</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="187.5" y="569.3291"> </text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="216" x="112.5" y="587.0351">(Settlement Transfer data event)</text><polygon fill="#181818" points="477.5,638.2562,467.5,642.2562,477.5,646.2562,473.5,642.2562" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="471.5" x2="718.5" y1="642.2562" y2="642.2562"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="483.5" y="627.5942">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="494.5" y="618.7411">Listen for Settlement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="494.5" y="636.4472">Transfer event</text><path d="M402,664.2562 L608,664.2562 L608,673.9622 L598,683.9622 L402,683.9622 L402,664.2562 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="527.7083" style="stroke:#000000;stroke-width:1.5;" width="1199" x="402" y="664.2562"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="161" x="417" y="679.1532">2. Settlement - App Logic</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="719.5" x2="761.5" y1="707.6682" y2="707.6682"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="761.5" x2="761.5" y1="707.6682" y2="720.6682"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="720.5" x2="761.5" y1="720.6682" y2="720.6682"/><polygon fill="#181818" points="729.5,703.6682,719.5,707.6682,729.5,711.6682,725.5,707.6682" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="730.5,716.6682,720.5,720.6682,730.5,724.6682,726.5,720.6682" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="726.5" y="701.8592">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="737.5" y="701.8592">Settlement Transfer event retrieved</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="719.5" x2="761.5" y1="752.3742" y2="752.3742"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="761.5" x2="761.5" y1="752.3742" y2="765.3742"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="720.5" x2="761.5" y1="765.3742" y2="765.3742"/><polygon fill="#181818" points="730.5,761.3742,720.5,765.3742,730.5,769.3742,726.5,765.3742" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="726.5" y="746.5652">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="737.5" y="746.5652">Validate</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="221" x="788.5" y="746.5652">Settlement Transfer data payload</text><polygon fill="#181818" points="730.5,810.7862,720.5,814.7862,730.5,818.7862,726.5,814.7862" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1086.5,810.7862,1096.5,814.7862,1086.5,818.7862,1090.5,814.7862" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="724.5" x2="1092.5" y1="814.7862" y2="814.7862"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="736.5" y="800.1242">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="747.5" y="791.2712">Fetch and cache settlement configuration</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="202" x="747.5" y="808.9772">Platform Config BC / Admin API</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" font-weight="bold" lengthAdjust="spacing" textLength="113" x="952.5" y="808.9772">(SettlementModel)</text><polygon fill="#181818" points="730.5,877.9043,720.5,881.9043,730.5,885.9043,726.5,881.9043" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1086.5,877.9043,1096.5,881.9043,1086.5,885.9043,1090.5,881.9043" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="724.5" x2="1092.5" y1="881.9043" y2="881.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="736.5" y="858.3893">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285" x="747.5" y="840.6833">Obtain current open settlement batch based on</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="221" x="747.5" y="858.3893">Settlement Transfer data payload</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="342" x="747.5" y="876.0953">New OPEN Batch will be created if no OPEN batch is available</text><polygon fill="#181818" points="730.5,927.3163,720.5,931.3163,730.5,935.3163,726.5,931.3163" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1209,927.3163,1219,931.3163,1209,935.3163,1213,931.3163" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="724.5" x2="1215" y1="931.3163" y2="931.3163"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="736.5" y="916.6543">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="747.5" y="907.8013">Obtain Debit/Credit</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="139" x="867.5" y="907.8013">Settlement Accounts</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="1009.5" y="907.8013">based on participant account info</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="446" x="747.5" y="925.5073">(The settlement accounts are derived and linked from the participant accounts)</text><polygon fill="#181818" points="1232,976.7284,1222,980.7284,1232,984.7284,1228,980.7284" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1536,976.7284,1546,980.7284,1536,984.7284,1540,980.7284" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1226" x2="1542" y1="980.7284" y2="980.7284"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1238" y="966.0664">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="1249" y="957.2133">Create account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="1249" y="974.9194">if 'not exists'</text><polygon fill="#181818" points="730.5,1008.4344,720.5,1012.4344,730.5,1016.4344,726.5,1012.4344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="724.5" x2="1220" y1="1012.4344" y2="1012.4344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="736.5" y="1006.6254">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="747.5" y="1006.6254">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="55" x="791.5" y="1006.6254">Account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="849.5" y="1006.6254">creation info</text><polygon fill="#181818" points="1209,1040.1404,1219,1044.1404,1209,1048.1404,1213,1044.1404" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="719.5" x2="1215" y1="1044.1404" y2="1044.1404"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="726.5" y="1038.3314">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="737.5" y="1038.3314">Create Settlement Transfer</text><polygon fill="#181818" points="1232,1071.8464,1222,1075.8464,1232,1079.8464,1228,1075.8464" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1536,1071.8464,1546,1075.8464,1536,1079.8464,1540,1075.8464" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1226" x2="1542" y1="1075.8464" y2="1075.8464"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1238" y="1070.0374">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="1256" y="1070.0374">Debit Payer, Credit Payee</text><polygon fill="#181818" points="730.5,1103.5524,720.5,1107.5524,730.5,1111.5524,726.5,1107.5524" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="724.5" x2="1220" y1="1107.5524" y2="1107.5524"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="736.5" y="1101.7434">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="754.5" y="1101.7434">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="56" x="798.5" y="1101.7434">Transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="857.5" y="1101.7434">creation info</text><line style="stroke:#181818;stroke-width:1.0;" x1="719.5" x2="761.5" y1="1139.2584" y2="1139.2584"/><line style="stroke:#181818;stroke-width:1.0;" x1="761.5" x2="761.5" y1="1139.2584" y2="1152.2584"/><line style="stroke:#181818;stroke-width:1.0;" x1="720.5" x2="761.5" y1="1152.2584" y2="1152.2584"/><polygon fill="#181818" points="729.5,1135.2584,719.5,1139.2584,729.5,1143.2584,725.5,1139.2584" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="730.5,1148.2584,720.5,1152.2584,730.5,1156.2584,726.5,1152.2584" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="726.5" y="1133.4494">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="744.5" y="1133.4494">Prepare</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="116" x="794.5" y="1133.4494">Transfer/Account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="913.5" y="1133.4494">data based on gRPC response</text><polygon fill="#181818" points="477.5,1179.9645,467.5,1183.9645,477.5,1187.9645,473.5,1183.9645" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="471.5" x2="718.5" y1="1183.9645" y2="1183.9645"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="483.5" y="1178.1555">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="501.5" y="1178.1555">Publish</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="134" x="548.5" y="1178.1555">Settlement Transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="685.5" y="1178.1555">data</text><path d="M27,1205.9645 L283,1205.9645 L283,1215.6705 L273,1225.6705 L27,1225.6705 L27,1205.9645 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="410.2963" style="stroke:#000000;stroke-width:1.5;" width="1574" x="27" y="1205.9645"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="211" x="42" y="1220.8615">3. Settlement - Retrieve Batches</text><polygon fill="#181818" points="355.5,1369.3186,365.5,1373.3186,355.5,1377.3186,359.5,1373.3186" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="94.5" x2="361.5" y1="1373.3186" y2="1373.3186"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="101.5" y="1305.5385">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="112.5" y="1243.5675">At time of fulfil:</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="145" x="112.5" y="1261.2735">retrieveSettlementBatches</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="3" x="257.5" y="1261.2735"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="112.5" y="1278.9795">INPUT:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="112.5" y="1296.6855">-&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="69" x="126.5" y="1296.6855">From Date</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="198.5" y="1296.6855">- From</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="112.5" y="1314.3916">-&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="51" x="126.5" y="1314.3916">To Date</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="180.5" y="1314.3916">- To</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="112.5" y="1332.0976">-&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118" x="126.5" y="1332.0976">Settlement Model</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="247.5" y="1332.0976">- Model</text><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="55" x="295.5" y="1332.0976">(optional)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="55" x="112.5" y="1349.8036">OUTPUT:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="11" x="112.5" y="1367.5096">-&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="131" x="126.5" y="1367.5096">Settlement Batches</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="260.5" y="1367.5096">- Batches</text><polygon fill="#181818" points="707.5,1401.0246,717.5,1405.0246,707.5,1409.0246,711.5,1405.0246" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="367.5" x2="713.5" y1="1405.0246" y2="1405.0246"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="374.5" y="1399.2156">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="385.5" y="1399.2156">Request settlement batches</text><polygon fill="#181818" points="1209,1432.7306,1219,1436.7306,1209,1440.7306,1213,1436.7306" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="719.5" x2="1215" y1="1436.7306" y2="1436.7306"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="726.5" y="1430.9216">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="737.5" y="1430.9216">Retrieve settlement batch accounts</text><polygon fill="#181818" points="1232,1464.4367,1222,1468.4367,1232,1472.4367,1228,1468.4367" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1536,1464.4367,1546,1468.4367,1536,1472.4367,1540,1468.4367" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1226" x2="1542" y1="1468.4367" y2="1468.4367"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1238" y="1462.6277">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="1249" y="1462.6277">Retrieve settlement batch accounts and balances</text><polygon fill="#181818" points="730.5,1496.1427,720.5,1500.1427,730.5,1504.1427,726.5,1500.1427" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="724.5" x2="1220" y1="1500.1427" y2="1500.1427"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="736.5" y="1494.3337">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="747.5" y="1494.3337">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="55" x="791.5" y="1494.3337">Account</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="849.5" y="1494.3337">creation info</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="719.5" x2="761.5" y1="1531.8487" y2="1531.8487"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="761.5" x2="761.5" y1="1531.8487" y2="1544.8487"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="720.5" x2="761.5" y1="1544.8487" y2="1544.8487"/><polygon fill="#181818" points="730.5,1540.8487,720.5,1544.8487,730.5,1548.8487,726.5,1544.8487" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="726.5" y="1526.0397">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="737.5" y="1526.0397">Prepare data for batch response</text><polygon fill="#181818" points="378.5,1572.5547,368.5,1576.5547,378.5,1580.5547,374.5,1576.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="372.5" x2="718.5" y1="1576.5547" y2="1576.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="384.5" y="1570.7457">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="395.5" y="1570.7457">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="53" x="439.5" y="1570.7457">Batches</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="495.5" y="1570.7457">info</text><polygon fill="#181818" points="105.5,1604.2607,95.5,1608.2607,105.5,1612.2607,101.5,1608.2607" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="99.5" x2="366.5" y1="1608.2607" y2="1608.2607"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="111.5" y="1602.4517">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="41" x="122.5" y="1602.4517">Return</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="53" x="166.5" y="1602.4517">Batches</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="222.5" y="1602.4517">info</text><!--SRC=[hLRRRjj837sklu9eWBOnrXQwsmADq2tW-89jDqqCn-tBUX6C9CePH9fHHwCq_ljoPdItscI1zOibIYGFUGuvqbmd2DUewIz5eM6hcCXZLC05pCcWM3Avm6XFbWbiq3pHqbsW215cAhpb6aDTAFJXdrkjizptl9GhEGrbwh4iymB9LEJ9iqytoQV3xFLszgVtxsYKCQLvo3D6MPztKpq7bWC-w9im6Gcf4UGzvIqDG3_Fgt3EPPfoxNdMVC6_5JpY-W0i36L1WGEMC8APsyTC8TnXfezhcuvGH61IZKQ1V6Wr98VpEPoipbQhrTdeMGVp1dCDi_L7YpOFmXjb32UBjyjtYpUzTvVtfhb_CH4bPNd60QsryZ0GcshhvzPkVd-p-8x1LcOyp6lZn1aWbWf2XKnpiH_YSz1XY7SR185gAHANksvDjwHkZtPYbcLm8VSyhCiZxcyIOu6JvMB-zirYz2nYcWKinuxxP55QQyyeeAxCbkzMSqiCKU9ucJbQSw16mdd9hMDePHaoU3iePo_EuVhht4Pc0ONUgopijBo1HE-s1MXVrvnk0qGp9XMaBb5rrBh5ouTCvXZ1VhEUazOqgfZHg537wrVgGbxKPKoxpHv8qi9I1zeQsxd3bx8310WqYeAoopZsfEX5hRkvLxB8uFKKvexl8IbCgYa1rvKHAxGKHHgKSd832Uydam_LjTzunqKIymHa61PAOTJrQ3bS1PhHGEODW5H6c4ntuhfdWWYfboatrUs4uOog56MYX6vqM-nb0ahLZ9fFVfwN5K72yrixavv7fl7urL3zHXbW7K_7utxnNO7tibpmNAFepTXEr97TO1CP5H6_JziCJA0Ufe5SjjyTapz8dmEZK2jEbz4GwduWWlwL9JmoYXYFVzgJZ1qIoI9goY_GqGpxi48Ttjff3LbuYssMGobYlYyKhImf30VhX6dgM0fp-yICjGUpYFWsMvPsVekapqOFfvxt10YblgmAAQtCi2EsW1c4jPWCaCVhDYgwnEzmjLvUqW2R2Dz9WcRwtFwCWCSqSUu5buBJHhbdF651WkLvrOVzeRMYQk0B3EY0ep6bWwrBIhL4nkC6VtlvLOSW5x4qY5zjkmomUflImHYXugGIorN2nHrTnagceCbd86X-MjRG8BPjFrgQVhLXAZGxGQrvITk89fJ697_P2pEWoGsQdKR5bnLJmUwieu9DSSC3MOVqVx7aZceuBi5t5C2Q7L3z1YKJvWx_0_GguHEmlp-UxxN2pB3KnF6QNbXjrWgmfmuTtvaKEJw-gjPk6GwFUncylQd-w6sgJRbVt1ZGbzRm8L5cjPz8FimqQ9xIsHQNszit-gnMLHE_Z6cNzCVBzPSjlKUHnkELaIPzDY0Xd82vAnziPMFUojBO0cmNXtrghynMaPaXWvbriXDNNxQjD2t74efrhKgjcckh6YJ_Ms4UzTTDotLOiKuuhgz7kwgQm2T8zqbnxCXtFvJ_xs4S25CfsehN79GErEF2BILKmsY8wMIlEAc_CtxcqDAhrVaF]--></g></svg>